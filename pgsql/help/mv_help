SELECT
  format(
    'CREATE MATERIALIZED VIEW %I.%I AS %s;',
    schemaname,
    matviewname,
    definition
  ) AS create_materialized_view_statement
FROM pg_matviews
WHERE schemaname NOT IN ('pg_catalog', 'information_schema');
