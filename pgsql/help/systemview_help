-- Check for any background worker errors
SELECT pid, application_name, backend_type, state, query 
FROM pg_stat_activity 
WHERE backend_type LIKE '%logical%' OR application_name LIKE '%subscription%';

-- Check for locks that might be blocking replication
SELECT relation::regclass, mode, granted, pid, query 
FROM pg_locks l 
JOIN pg_stat_activity a ON l.pid = a.pid 
WHERE relation::regclass::text LIKE '%finance_other%';

-- Check for any resource limits
SELECT name, setting, unit FROM pg_settings 
WHERE name LIKE '%memory%' OR name LIKE '%work%' OR name LIKE '%max_%'
ORDER BY name;

-- Check disk space
SELECT pg_size_pretty(pg_database_size('your_database'));


