financials=# SELECT
  tg.tgname AS trigger_name,
  tbl.relname AS table_name,
  ns.nspname AS schema_name,
  CASE tg.tgtype & 16::integer
    WHEN 16 THEN 'BEFORE'::text
    ELSE 'AFTER'::text
  END AS trigger_timing,
  array_to_string(
    array_remove(ARRAY[
      CASE WHEN (tg.tgtype & 1::integer) = 1 THEN 'INSERT'::text END,
      CASE WHEN (tg.tgtype & 2::integer) = 2 THEN 'UPDATE'::text END,
      CASE WHEN (tg.tgtype & 4::integer) = 4 THEN 'DELETE'::text END,
      CASE WHEN (tg.tgtype & 8::integer) = 8 THEN 'TRUNCATE'::text END
    ], NULL),  -- Remove NULL values from the array
    ', '::text
  ) AS trigger_events,
  proname AS trigger_function_name,
  tg.tgdeferrable AS is_deferrable,
  tg.tginitdeferred AS initially_deferred
FROM
  pg_trigger tg
JOIN
  pg_class tbl ON tg.tgrelid = tbl.oid
JOIN
  pg_namespace ns ON tbl.relnamespace = ns.oid
JOIN
  pg_proc p ON tg.tgfoid = p.oid
WHERE
  NOT tg.tgisinternal
  AND ns.nspname = 'finance_other'  -- Target schema
ORDER BY
  table_name, trigger_name;
                         trigger_name                         |              table_name               |  schema_name  | trigger_timing |      trigger_events      |                     trigger_function_name                     | is_deferrable | initially_deferred
--------------------------------------------------------------+---------------------------------------+---------------+----------------+--------------------------+---------------------------------------------------------------+---------------+--------------------
 brms_operator_history_trigger                                | brms_operator                         | finance_other | BEFORE         | INSERT, DELETE           | brms_operator_history_function                                | f             | f
 brms_operator_history_trigger_delete                         | brms_operator                         | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | brms_operator_history_function                                | f             | f
 brms_rules_history_trigger                                   | brms_rules                            | finance_other | BEFORE         | INSERT, DELETE           | brms_rules_history_function                                   | f             | f
 brms_rules_history_trigger_delete                            | brms_rules                            | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | brms_rules_history_function                                   | f             | f
 brms_rules_attribute_history_trigger                         | brms_rules_attribute                  | finance_other | BEFORE         | INSERT, DELETE           | brms_rules_attribute_history_function                         | f             | f
 brms_rules_attribute_history_trigger_delete                  | brms_rules_attribute                  | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | brms_rules_attribute_history_function                         | f             | f
 brms_rules_meta_history_trigger                              | brms_rules_meta                       | finance_other | BEFORE         | INSERT, DELETE           | brms_rules_meta_history_function                              | f             | f
 brms_rules_meta_history_trigger_delete                       | brms_rules_meta                       | finance_other | AFTER          | INSERT, UPDATE, TRU
NCATE | brms_rules_meta_history_function                              | f             | f
 brms_rules_meta_attribute_history_trigger                    | brms_rules_meta_attribute             | finance_other | BEFORE         | INSERT, DELETE
      | brms_rules_meta_attribute_history_function                    | f             | f
 brms_rules_meta_attribute_history_trigger_delete             | brms_rules_meta_attribute             | finance_other | AFTER          | INSERT, UPDATE, TRU
NCATE | brms_rules_meta_attribute_history_function                    | f             | f
 consolidation_configuration_history_trigger                  | consolidation_configuration           | finance_other | BEFORE         | INSERT, DELETE
      | consolidation_configuration_history_function                  | f             | f
 consolidation_configuration_history_trigger_delete           | consolidation_configuration           | finance_other | AFTER          | INSERT, UPDATE, TRU
NCATE | consolidation_configuration_history_function                  | f             | f
 contact_person_history_trigger                               | contact_person                        | finance_other | BEFORE         | INSERT, DELETE
      | contact_person_history_function                               | f             | f
 contact_person_history_trigger_delete                        | contact_person                        | finance_other | AFTER          | INSERT, UPDATE, TRU
NCATE | contact_person_history_function                               | f             | f
 customer_account_history_trigger                             | customer_account                      | finance_other | BEFORE         | INSERT, DELETE
      | customer_account_history_function                             | f             | f
 customer_account_history_trigger_delete                      | customer_account                      | finance_other | AFTER          | INSERT, UPDATE, TRU
NCATE | customer_account_history_function                             | f             | f
 ddc_core_lia_mapping_history_trigger                         | ddc_core_lia_mapping                  | finance_other | BEFORE         | INSERT, DELETE
      | ddc_core_lia_mapping_history_function                         | f             | f
 ddc_core_lia_mapping_history_trigger_delete                  | ddc_core_lia_mapping                  | finance_other | AFTER          | INSERT, UPDATE, TRU
NCATE | ddc_core_lia_mapping_history_function                         | f             | f
 ddc_true_up_history_trigger                                  | ddc_true_up                           | finance_other | BEFORE         | INSERT, DELETE
      | ddc_true_up_history_function                                  | f             | f
 ddc_true_up_history_trigger_delete                           | ddc_true_up                           | finance_other | AFTER          | INSERT, UPDATE, TRU
NCATE | ddc_true_up_history_function                                  | f             | f
 ddc_true_up_detail_history_trigger                           | ddc_true_up_detail                    | finance_other | BEFORE         | INSERT, DELETE
      | ddc_true_up_detail_history_function                           | f             | f
 ddc_true_up_detail_history_trigger_delete                    | ddc_true_up_detail                    | finance_other | AFTER          | INSERT, UPDATE, TRU
NCATE | ddc_true_up_detail_history_function                           | f             | f
 ddc_true_up_setup_history_trigger                            | ddc_true_up_setup                     | finance_other | BEFORE         | INSERT, DELETE
      | ddc_true_up_setup_history_function                            | f             | f
 ddc_true_up_setup_history_trigger_delete                     | ddc_true_up_setup                     | finance_other | AFTER          | INSERT, UPDATE, TRU
NCATE | ddc_true_up_setup_history_function                            | f             | f
 ddc_true_up_setup_condition_history_trigger                  | ddc_true_up_setup_condition           | finance_other | BEFORE         | INSERT, DELETE
      | ddc_true_up_setup_condition_history_function                  | f             | f
 ddc_true_up_setup_condition_history_trigger_delete           | ddc_true_up_setup_condition           | finance_other | AFTER          | INSERT, UPDATE, TRU
NCATE | ddc_true_up_setup_condition_history_function                  | f             | f
 ddc_true_up_setup_rate_history_trigger                       | ddc_true_up_setup_rate                | finance_other | BEFORE         | INSERT, DELETE
      | ddc_true_up_setup_rate_history_function                       | f             | f
 ddc_true_up_setup_rate_history_trigger_delete                | ddc_true_up_setup_rate                | finance_other | AFTER          | INSERT, UPDATE, TRU
NCATE | ddc_true_up_setup_rate_history_function                       | f             | f
 default_funding_arrangement_history_trigger                  | default_funding_arrangement           | finance_other | BEFORE         | INSERT, DELETE
      | default_funding_arrangement_history_function                  | f             | f
 default_funding_arrangement_history_trigger_delete           | default_funding_arrangement           | finance_other | AFTER          | INSERT, UPDATE, TRU
NCATE | default_funding_arrangement_history_function                  | f             | f
 disbursement_account_history_trigger                         | disbursement_account                  | finance_other | BEFORE         | INSERT, DELETE
      | disbursement_account_history_function                         | f             | f
 disbursement_account_history_trigger_delete                  | disbursement_account                  | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | disbursement_account_history_function                         | f             | f
 eoc_history_trigger                                          | eoc                                   | finance_other | BEFORE         | INSERT, DELETE           | eoc_history_function                                          | f             | f
 eoc_history_trigger_delete                                   | eoc                                   | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | eoc_history_function                                          | f             | f
 eoc_excluded_ledger_account_history_trigger                  | eoc_excluded_ledger_account           | finance_other | BEFORE         | INSERT, DELETE           | eoc_excluded_ledger_account_history_function                  | f             | f
 eoc_excluded_ledger_account_history_trigger_delete           | eoc_excluded_ledger_account           | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | eoc_excluded_ledger_account_history_function                  | f             | f
 eoc_image_history_trigger                                    | eoc_image                             | finance_other | BEFORE         | INSERT, DELETE           | eoc_image_history_function                                    | f             | f
 eoc_image_history_trigger_delete                             | eoc_image                             | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | eoc_image_history_function                                    | f             | f
 eoc_image_form_and_logo_approval_history_trigger             | eoc_image_form_and_logo_approval      | finance_other | BEFORE         | INSERT, DELETE           | eoc_image_form_and_logo_approval_history_function             | f             | f
 eoc_image_form_and_logo_approval_history_trigger_delete      | eoc_image_form_and_logo_approval      | finance_other | AFTER          | INSERT, UPDATE, TRU
NCATE | eoc_image_form_and_logo_approval_history_function             | f             | f
 eoc_message_history_trigger                                  | eoc_message                           | finance_other | BEFORE         | INSERT, DELETE           | eoc_message_history_function                                  | f             | f
 eoc_message_history_trigger_delete                           | eoc_message                           | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | eoc_message_history_function                                  | f             | f
 line_item_adjustment_insert_update_trigger                   | finance_adjustment_request            | finance_other | BEFORE         | INSERT, DELETE           | finance_line_item_adjustment_insert_update_trigger            | f             | f
 line_item_adjustment_req_detail_insert_update_trigger        | finance_adjustment_request_detail     | finance_other | BEFORE         | INSERT, DELETE           | finance_line_item_adjustment_req_detail_insert_update_trigger | f             | f
 line_item_adjustment_req_error_insert_update_trigger         | finance_adjustment_request_error      | finance_other | BEFORE         | INSERT, DELETE           | finance_line_item_adjustment_req_error_insert_update_trigger  | f             | f
 finance_customer_logo_history_trigger                        | finance_customer_logo                 | finance_other | BEFORE         | INSERT, DELETE           | finance_customer_logo_history_function                        | f             | f
 finance_customer_logo_history_trigger_delete                 | finance_customer_logo                 | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | finance_customer_logo_history_function                        | f             | f
 funding_arrangement_history_trigger                          | funding_arrangement                   | finance_other | BEFORE         | INSERT, DELETE           | funding_arrangement_history_function                          | f             | f
 funding_arrangement_history_trigger_delete                   | funding_arrangement                   | finance_other | AFTER          | INSERT, UPDATE, TRU
NCATE | funding_arrangement_history_function                          | f             | f
 funding_arrangement_hierarchy_history_trigger                | funding_arrangement_hierarchy         | finance_other | BEFORE         | INSERT, DELETE           | funding_arrangement_hierarchy_history_function                | f             | f
 funding_arrangement_hierarchy_history_trigger_delete         | funding_arrangement_hierarchy         | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | funding_arrangement_hierarchy_history_function                | f             | f
 funding_cycle_history_trigger                                | funding_cycle                         | finance_other | BEFORE         | INSERT, DELETE           | funding_cycle_history_function                                | f             | f
 funding_cycle_history_trigger_delete                         | funding_cycle                         | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | funding_cycle_history_function                                | f             | f
 ledger_account_history_trigger                               | ledger_account                        | finance_other | BEFORE         | INSERT, DELETE           | ledger_account_history_function                               | f             | f
 ledger_account_history_trigger_delete                        | ledger_account                        | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | ledger_account_history_function                               | f             | f
 link_contact_history_trigger                                 | link_contact                          | finance_other | BEFORE         | INSERT, DELETE           | link_contact_history_function                                 | f             | f
 link_contact_history_trigger_delete                          | link_contact                          | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | link_contact_history_function                                 | f             | f
 link_disbursement_outbound_payment_history_trigger           | link_disbursement_outbound_payment    | finance_other | BEFORE         | INSERT, DELETE
      | link_disbursement_outbound_payment_history_function           | f             | f
 link_disbursement_outbound_payment_history_trigger_delete    | link_disbursement_outbound_payment    | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | link_disbursement_outbound_payment_history_function           | f             | f
 link_eoc_customer_history_trigger                            | link_eoc_customer                     | finance_other | BEFORE         | INSERT, DELETE           | link_eoc_customer_history_function                            | f             | f
 link_eoc_customer_history_trigger_delete                     | link_eoc_customer                     | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | link_eoc_customer_history_function                            | f             | f
 link_eoc_finance_pharmacy_history_trigger                    | link_eoc_finance_pharmacy             | finance_other | BEFORE         | INSERT, DELETE           | link_eoc_finance_pharmacy_history_function                    | f             | f
 link_eoc_finance_pharmacy_history_trigger_delete             | link_eoc_finance_pharmacy             | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | link_eoc_finance_pharmacy_history_function                    | f             | f
 link_eoc_image_history_trigger                               | link_eoc_image                        | finance_other | BEFORE         | INSERT, DELETE           | link_eoc_image_history_function                               | f             | f
 link_eoc_image_history_trigger_delete                        | link_eoc_image                        | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | link_eoc_image_history_function                               | f             | f
 link_eoc_ledger_account_history_trigger                      | link_eoc_ledger_account               | finance_other | BEFORE         | INSERT, DELETE           | link_eoc_ledger_account_history_function                      | f             | f
 link_eoc_ledger_account_history_trigger_delete               | link_eoc_ledger_account               | finance_other | AFTER          | INSERT, UPDATE, TRU
NCATE | link_eoc_ledger_account_history_function                      | f             | f
 link_eoc_pharmacy_group_history_trigger                      | link_eoc_pharmacy_group               | finance_other | BEFORE         | INSERT, DELETE           | link_eoc_pharmacy_group_history_function                      | f             | f
 link_eoc_pharmacy_group_history_trigger_delete               | link_eoc_pharmacy_group               | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | link_eoc_pharmacy_group_history_function                      | f             | f
 link_finance_file_history_trigger                            | link_finance_file                     | finance_other | BEFORE         | INSERT, DELETE           | link_finance_file_history_function                            | f             | f
 link_finance_file_history_trigger_delete                     | link_finance_file                     | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | link_finance_file_history_function                            | f             | f
 link_funding_arrangement_bank_account_history_trigger        | link_funding_arrangement_bank_account | finance_other | BEFORE         | INSERT, DELETE           | link_funding_arrangement_bank_account_history_function        | f             | f
 link_funding_arrangement_bank_account_history_trigger_delete | link_funding_arrangement_bank_account | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | link_funding_arrangement_bank_account_history_function        | f             | f
 link_ledger_account_to_bank_account_history_trigger          | link_ledger_account_to_bank_account   | finance_other | BEFORE         | INSERT, DELETE           | link_ledger_account_to_bank_account_history_function          | f             | f
 link_ledger_account_to_bank_account_history_trigger_delete   | link_ledger_account_to_bank_account   | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | link_ledger_account_to_bank_account_history_function          | f             | f
 link_pharmacy_group_user_history_trigger                     | link_pharmacy_group_user              | finance_other | BEFORE         | INSERT, DELETE
      | link_pharmacy_group_user_history_function                     | f             | f
 link_pharmacy_group_user_history_trigger_delete              | link_pharmacy_group_user              | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | link_pharmacy_group_user_history_function                     | f             | f
 pharmacy_penalty_file_history_trigger                        | pharmacy_penalty_file                 | finance_other | BEFORE         | INSERT, DELETE           | pharmacy_penalty_file_history_function                        | f             | f
 pharmacy_penalty_file_history_trigger_delete                 | pharmacy_penalty_file                 | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | pharmacy_penalty_file_history_function                        | f             | f
 prompt_pay_rule_history_trigger                              | prompt_pay_rule                       | finance_other | BEFORE         | INSERT, DELETE           | prompt_pay_rule_history_function                              | f             | f
 prompt_pay_rule_history_trigger_delete                       | prompt_pay_rule                       | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | prompt_pay_rule_history_function                              | f             | f
 void_payment_request_history_trigger                         | void_payment_request                  | finance_other | BEFORE         | INSERT, DELETE           | void_payment_request_history_function                         | f             | f
 void_payment_request_history_trigger_delete                  | void_payment_request                  | finance_other | AFTER          | INSERT, UPDATE, TRUNCATE | void_payment_request_history_function                         | f             | f
(83 rows)
