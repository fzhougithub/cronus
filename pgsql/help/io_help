iostat -x -m 2 1 | awk 'NR>6 && $NF >= 10 {print $1, $NF}'
sdb 23.07
sdj 63.22
sdi 61.62
dm-2 23.19
dm-11 61.65
dm-15 63.63


iostat -x -m 2
iotop -oPa
vmstat 2
dstat -cdngy
sar -d 2
pidstat -d -p <PID> 1
atop -d
cat /proc/pressure/io

iostat -x -m 2 | awk '
{
  for(i=2; i<=NF; i++) {
    if($i+0 > 100) { print; break }
  }
}'

lsblk -o NAME,MAJ:MIN,TYPE,MOUNTPOINT

dmsetup ls
dmsetup ls --tree
udevadm info --query=all --name=/dev/dm-15

dmsetup ls --tree  # It give the major.minor device number, then

ls -larth /sys/dev/block/ # get the idea about the device

[root@claimshumana-db-01-alma8-prod-drx-kc ~]$ ls -larth /sys/dev/block/|grep dm-15
lrwxrwxrwx. 1 root root 0 Oct 24 19:03 253:15 -> ../../devices/virtual/block/dm-15

[root@claimshumana-db-01-alma8-prod-drx-kc ~]$ readlink -f /sys/dev/block/253:15
/sys/devices/virtual/block/dm-15

find /dev -type b -printf '%M %u %g %t %k %D %f\n' | grep '253:8'

lvs -a -o +devices


SELECT * FROM pg_stat_io;
SELECT * FROM pg_stat_bgwriter;
SHOW track_io_timing;
SELECT pid, wait_event_type, wait_event, query FROM pg_stat_activity WHERE state='active';
/usr/pgsql-14/bin/pg_test_timing
SELECT * FROM pg_cputime(); 
pg_proctab extension



1. boot sda IO, pretty high

High I/O on the `/boot` directory (which typically resides on device `/dev/sda1`) is unusual â€” it's a mostly static area that stores kernel and initramfs images. If you're getting high I/O alerts on it, here are some **possible causes** to investigate:

---

### ğŸ” Common Causes of High `/boot` I/O

#### 1. **Frequent `initramfs` or kernel rebuilds**

* Check for repeated `dracut`, `mkinitcpio`, or `update-initramfs` runs.
* **Culprit:** Automatic updates (e.g., `dnf update`, `yum`, or unattended-upgrades) installing new kernels.

ğŸ§ª Check:

```bash
ls -ltr /boot
```

Look for frequent timestamp updates or growing number of `vmlinuz-*` and `initramfs-*` files.

---

#### 2. **Log-based security or monitoring tools accessing files**

* Some tools like **OSSEC**, **Tripwire**, **AIDE**, or antivirus might constantly read `/boot` for change detection.

ğŸ§ª Check whoâ€™s reading:

```bash
sudo lsof | grep '/boot'
```

---

#### 3. **Backup software including `/boot` in every backup**

* If backup tools (like `rsync`, `tar`, or snapshot-based tools) scan `/boot` often, they may cause spikes.

ğŸ§ª Check cron jobs or timers:

```bash
grep boot /etc/cron*/* /etc/systemd/system/*.timer 2>/dev/null
```

---

#### 4. **Filesystem issues or bad disk sectors**

* Failing sectors on `/dev/sda1` could trigger retries, increasing I/O.

ğŸ§ª Check disk health:

```bash
sudo smartctl -a /dev/sda
sudo dmesg | grep sda
```

---

#### 5. **GRUB or bootloader reconfiguration**

* Frequent updates to bootloader config (`grub.cfg`, `systemd-boot`, etc.) may involve rewriting to `/boot`.

ğŸ§ª Check:

```bash
ls -ltr /boot/grub*/grub.cfg
```

---

### ğŸ› ï¸ If You Want to Monitor `/boot` Usage:

```bash
sudo iotop -oPa   # shows real-time per-process I/O
```

```bash
sudo iostat -xd 1 /dev/sda
```

---

### ğŸ”’ What *should not* be writing to `/boot` frequently:

* Normal user activity.
* Applications or daemons (unless specifically working with kernel/initramfs).
* System updates more than once per kernel update cycle.

---

### âœ… Summary

| Cause                     | Investigate With               |               |
| ------------------------- | ------------------------------ | ------------- |
| Kernel/initramfs rebuilds | `ls -ltr /boot`, \`rpm -qa     | grep kernel\` |
| Backup software           | `lsof`, cron jobs, backup logs |               |
| Monitoring tools          | `lsof`, process list           |               |
| Disk issues               | `smartctl`, `dmesg`            |               |
| GRUB reconfigurations     | `ls -ltr /boot/grub*/grub.cfg` |               |

---

Let me know what distro and what alerted you â€” I can give more targeted checks.

